<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>CodeShift â€” JSX & TSX â†’ HTML Converter</title>
  <style>
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      min-height: 100vh;
      background: #0a0a0f;
      color: #e0e0e0;
      font-family: 'Courier New', Courier, monospace;
      position: relative;
      overflow-x: hidden;
    }

    #grid-overlay {
      position: fixed;
      inset: 0;
      background-image:
        linear-gradient(rgba(255,255,255,0.02) 1px, transparent 1px),
        linear-gradient(90deg, rgba(255,255,255,0.02) 1px, transparent 1px);
      background-size: 40px 40px;
      pointer-events: none;
      z-index: 0;
    }

    .container {
      max-width: 1100px;
      margin: 0 auto;
      padding: 40px 24px;
      position: relative;
      z-index: 1;
    }

    /* â”€â”€ Header â”€â”€ */
    header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      flex-wrap: wrap;
      gap: 16px;
      margin-bottom: 36px;
    }

    .logo-row {
      display: flex;
      align-items: center;
      gap: 16px;
    }

    .logo-box {
      width: 52px;
      height: 52px;
      background: linear-gradient(135deg, #00d2ff, #7b2ff7);
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 22px;
      color: #fff;
      font-weight: 900;
      flex-shrink: 0;
    }

    h1 {
      font-size: 28px;
      font-weight: 900;
      letter-spacing: -1px;
      background: linear-gradient(90deg, #00d2ff, #7b2ff7);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      line-height: 1.1;
    }

    .subtitle {
      font-size: 13px;
      color: #666;
      letter-spacing: 1px;
      margin-top: 2px;
    }

    .supported-badges {
      display: flex;
      align-items: center;
      gap: 6px;
      background: #111;
      border: 1px solid #222;
      padding: 8px 14px;
      border-radius: 8px;
      font-size: 12px;
      flex-wrap: wrap;
    }

    .supported-label {
      color: #555;
      margin-right: 4px;
      letter-spacing: 1px;
      font-size: 11px;
    }

    .arrow-sep { color: #444; font-size: 14px; }

    /* â”€â”€ Badges â”€â”€ */
    .badge {
      font-size: 11px;
      font-weight: 700;
      letter-spacing: 1px;
      padding: 2px 8px;
      border-radius: 3px;
      font-family: monospace;
      text-transform: uppercase;
    }
    .badge-jsx { background: #f7df1e; color: #000; }
    .badge-tsx { background: #3178c6; color: #fff; }
    .badge-html { background: #e44d26; color: #fff; }

    /* â”€â”€ Panel â”€â”€ */
    .panel {
      background: #0f0f17;
      border: 1px solid #1e1e2e;
      border-radius: 16px;
      overflow: hidden;
    }

    /* â”€â”€ Drop Zone â”€â”€ */
    #drop-zone {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 80px 40px;
      cursor: pointer;
      transition: background 0.2s ease, border-color 0.2s ease;
      border: 2px dashed transparent;
      border-radius: 16px;
    }

    #drop-zone.drag-over {
      background: rgba(0, 210, 255, 0.05);
      border-color: #00d2ff;
    }

    .drop-icon {
      font-size: 52px;
      margin-bottom: 16px;
    }

    .drop-title {
      font-size: 20px;
      font-weight: 700;
      color: #ccc;
      margin-bottom: 6px;
      letter-spacing: -0.5px;
    }

    .drop-sub {
      font-size: 13px;
      color: #444;
      margin-bottom: 20px;
    }

    .drop-formats {
      display: flex;
      align-items: center;
      gap: 6px;
    }

    /* â”€â”€ Workspace â”€â”€ */
    #workspace { display: none; flex-direction: column; }

    .file-bar {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 12px 20px;
      background: #111;
      border-bottom: 1px solid #1e1e2e;
      flex-wrap: wrap;
      gap: 8px;
    }

    .file-info {
      display: flex;
      align-items: center;
      gap: 10px;
      flex-wrap: wrap;
    }

    .file-name {
      font-size: 14px;
      font-weight: 700;
      color: #ccc;
      letter-spacing: -0.3px;
    }

    .file-size { font-size: 11px; color: #444; }

    .reset-btn {
      background: transparent;
      border: 1px solid #2a2a3a;
      color: #555;
      padding: 4px 12px;
      border-radius: 6px;
      cursor: pointer;
      font-size: 12px;
      letter-spacing: 0.5px;
      font-family: inherit;
      transition: color 0.2s, border-color 0.2s;
    }
    .reset-btn:hover { color: #ff8080; border-color: #ff8080; }

    /* â”€â”€ Code Panels â”€â”€ */
    .code-panels {
      display: flex;
      min-height: 320px;
    }

    .code-panel {
      flex: 1;
      display: flex;
      flex-direction: column;
      overflow: hidden;
      min-width: 0;
    }

    .code-panel-header {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 10px 16px;
      background: #0a0a0f;
      border-bottom: 1px solid #1e1e2e;
      border-top: 1px solid #1e1e2e;
    }

    .code-panel-title {
      font-size: 10px;
      letter-spacing: 2px;
      color: #444;
      font-weight: 700;
    }

    .code-block {
      flex: 1;
      margin: 0;
      padding: 16px;
      font-size: 12px;
      line-height: 1.7;
      color: #8be9fd;
      background: transparent;
      overflow: auto;
      max-height: 360px;
      white-space: pre-wrap;
      word-break: break-word;
      font-family: 'Courier New', Courier, monospace;
    }

    #output-code { color: #555; }
    #output-code.has-output { color: #a8ff78; }

    .arrow-divider {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      width: 48px;
      min-width: 48px;
      background: #0a0a0f;
      border-left: 1px solid #1e1e2e;
      border-right: 1px solid #1e1e2e;
      padding: 20px 0;
    }

    .arrow-line {
      flex: 1;
      width: 1px;
      background: #1e1e2e;
    }

    .arrow-big {
      font-size: 20px;
      color: #7b2ff7;
      padding: 8px 0;
    }

    /* â”€â”€ Actions â”€â”€ */
    .actions {
      display: flex;
      gap: 12px;
      padding: 20px;
      border-top: 1px solid #1e1e2e;
      background: #0a0a0f;
      flex-wrap: wrap;
    }

    .convert-btn {
      flex: 1;
      min-width: 160px;
      padding: 14px;
      background: linear-gradient(135deg, #00d2ff, #7b2ff7);
      color: #fff;
      border: none;
      border-radius: 10px;
      font-size: 14px;
      font-weight: 700;
      cursor: pointer;
      letter-spacing: 0.5px;
      font-family: inherit;
      transition: opacity 0.2s;
    }
    .convert-btn:hover { opacity: 0.85; }
    .convert-btn.done { background: #1e1e2e; color: #666; }

    .download-btn {
      padding: 14px 28px;
      background: transparent;
      color: #a8ff78;
      border: 1px solid #a8ff78;
      border-radius: 10px;
      font-size: 14px;
      font-weight: 700;
      cursor: pointer;
      letter-spacing: 0.5px;
      white-space: nowrap;
      font-family: inherit;
      display: none;
      transition: background 0.2s;
    }
    .download-btn:hover { background: rgba(168, 255, 120, 0.08); }
    .download-btn.visible { display: block; }

    /* â”€â”€ Error â”€â”€ */
    .error-box {
      margin: 20px;
      padding: 12px 16px;
      background: rgba(255, 80, 80, 0.1);
      border: 1px solid rgba(255, 80, 80, 0.3);
      border-radius: 8px;
      color: #ff8080;
      font-size: 13px;
      display: none;
    }
    .error-box.visible { display: block; }

    /* â”€â”€ Footer â”€â”€ */
    footer {
      text-align: center;
      margin-top: 24px;
      font-size: 12px;
      color: #333;
      letter-spacing: 0.5px;
    }

    /* â”€â”€ Responsive â”€â”€ */
    @media (max-width: 640px) {
      .code-panels { flex-direction: column; }
      .arrow-divider { width: 100%; height: 40px; flex-direction: row; padding: 0 20px; }
      .arrow-line { flex: 1; height: 1px; width: auto; }
      header { flex-direction: column; align-items: flex-start; }
    }
  </style>
</head>
<body>

<div id="grid-overlay"></div>

<div class="container">

  <!-- â”€â”€ Header â”€â”€ -->
  <header>
    <div class="logo-row">
      <div class="logo-box">&lt;/&gt;</div>
      <div>
        <h1>CodeShift</h1>
        <p class="subtitle">JSX &amp; TSX â†’ HTML Converter</p>
      </div>
    </div>
    <div class="supported-badges">
      <span class="supported-label">Supported:</span>
      <span class="badge badge-jsx">jsx</span>
      <span class="arrow-sep">â†’</span>
      <span class="badge badge-html">html</span>
      &nbsp;
      <span class="badge badge-tsx">tsx</span>
      <span class="arrow-sep">â†’</span>
      <span class="badge badge-html">html</span>
    </div>
  </header>

  <!-- â”€â”€ Main Panel â”€â”€ -->
  <div class="panel">

    <!-- Drop Zone -->
    <div id="drop-zone">
      <input type="file" id="file-input" accept=".jsx,.tsx" style="display:none" />
      <div class="drop-icon" id="drop-icon">ğŸ“</div>
      <p class="drop-title" id="drop-title">Drop your file here</p>
      <p class="drop-sub">or click to browse</p>
      <div class="drop-formats">
        <span class="badge badge-jsx">jsx</span>
        <span class="badge badge-tsx">tsx</span>
      </div>
    </div>

    <!-- Workspace (hidden until file loaded) -->
    <div id="workspace">

      <!-- File info bar -->
      <div class="file-bar">
        <div class="file-info">
          <span>ğŸ“„</span>
          <span class="file-name" id="file-name-display"></span>
          <span class="badge" id="type-badge"></span>
          <span class="file-size" id="file-size-display"></span>
        </div>
        <button class="reset-btn" id="reset-btn">âœ• Remove</button>
      </div>

      <!-- Code Panels -->
      <div class="code-panels">
        <div class="code-panel">
          <div class="code-panel-header">
            <span class="code-panel-title">INPUT</span>
            <span class="badge" id="input-badge"></span>
          </div>
          <pre class="code-block" id="input-code">// Your source code will appear here...</pre>
        </div>

        <div class="arrow-divider">
          <div class="arrow-line"></div>
          <span class="arrow-big">â†’</span>
          <div class="arrow-line"></div>
        </div>

        <div class="code-panel">
          <div class="code-panel-header">
            <span class="code-panel-title">OUTPUT</span>
            <span class="badge badge-html">html</span>
          </div>
          <pre class="code-block" id="output-code">// Output will appear here after conversion...</pre>
        </div>
      </div>

      <!-- Actions -->
      <div class="actions">
        <button class="convert-btn" id="convert-btn">âš¡ Convert to HTML</button>
        <button class="download-btn" id="download-btn">â†“ Download .html</button>
      </div>

    </div><!-- /workspace -->

    <!-- Error Box -->
    <div class="error-box" id="error-box"></div>

  </div><!-- /panel -->

  <footer>More formats coming soon â€” HTML â†’ JSX, HTML â†’ TSX, JSX â†” TSX</footer>

</div><!-- /container -->

<script>
// â”€â”€â”€ Conversion Engine â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

function removeImports(code) {
  return code.replace(/^import\s+[\s\S]*?from\s+['"][^'"]+['"]\s*;?\s*$/gm, '').trim();
}

function removeExports(code) {
  return code
    .replace(/export\s+default\s+/g, '')
    .replace(/export\s+(const|function|class|let|var)\s+/g, '$1 ')
    .trim();
}

function removeTSTypes(code) {
  // Remove interface/type declarations
  code = code.replace(/^(interface|type)\s+\w+[\s\S]*?\n\}/gm, '');
  // Remove function param types: (props: MyProps) â†’ (props)
  code = code.replace(/(\w+)\s*:\s*[A-Z][A-Za-z0-9<>\[\]|&?,\s]*(?=[,)])/g, '$1');
  // Remove return type annotation: ): JSX.Element {
  code = code.replace(/\)\s*:\s*[A-Za-z.]+(?:<[^>]*>)?\s*(\{)/g, ') $1');
  // Remove React.FC<...> or FC<...>
  code = code.replace(/:\s*React\.FC<[^>]*>/g, '');
  code = code.replace(/:\s*FC<[^>]*>/g, '');
  // Remove as Type assertions
  code = code.replace(/\s+as\s+[A-Za-z<>[\]|&\s]+/g, '');
  return code;
}

function extractJSXReturn(code) {
  const m1 = code.match(/return\s*\(\s*([\s\S]*?)\s*\)\s*;?\s*\}?\s*$/);
  if (m1) return m1[1].trim();
  const m2 = code.match(/return\s+([\s\S]+?)\s*;?\s*\}?\s*$/);
  if (m2) return m2[1].trim();
  return code;
}

function convertJSXAttrs(code) {
  code = code.replace(/\bclassName=/g, 'class=');
  code = code.replace(/\bhtmlFor=/g, 'for=');
  code = code.replace(/\btabIndex=/g, 'tabindex=');
  // Remove React event handlers
  code = code.replace(/\bon[A-Z][a-zA-Z]*=\{[^}]*\}/g, '');
  // style={{ camelCase: 'val' }} â†’ style="kebab-case: val;"
  code = code.replace(/style=\{\{([\s\S]*?)\}\}/g, function(_, inner) {
    const styleStr = inner
      .replace(/\n/g, ' ')
      .split(',')
      .map(function(pair) {
        const parts = pair.split(':');
        if (parts.length < 2) return '';
        const key = parts[0].trim();
        const val = parts.slice(1).join(':').trim();
        if (!key || !val) return '';
        const cssKey = key.replace(/([A-Z])/g, '-$1').toLowerCase();
        const cssVal = val.replace(/['"]/g, '').trim();
        return cssKey + ': ' + cssVal;
      })
      .filter(Boolean)
      .join('; ');
    return 'style="' + styleStr + '"';
  });
  // {/* comment */} â†’ <!-- comment -->
  code = code.replace(/\{\/\*([\s\S]*?)\*\/\}/g, '<!--$1-->');
  return code;
}

function fixSelfClosingTags(code) {
  const voidTags = ['area','base','br','col','embed','hr','img','input','link','meta','param','source','track','wbr'];
  voidTags.forEach(function(tag) {
    const re = new RegExp('<' + tag + '([^>]*?)\\s*/>', 'gi');
    code = code.replace(re, '<' + tag + '$1>');
  });
  code = code.replace(/<([A-Za-z][A-Za-z0-9]*)((?:\s+[^>]*?)?)\/>/g, function(_, tag, attrs) {
    if (voidTags.indexOf(tag.toLowerCase()) !== -1) return '<' + tag + attrs + '>';
    return '<' + tag + attrs + '></' + tag + '>';
  });
  return code;
}

function removeJSXExpressionCurly(code) {
  return code.replace(/\{['"`](.*?)['"`]\}/g, '$1');
}

function wrapInHTML(inner, filename) {
  const title = filename.replace(/\.(jsx|tsx)$/i, '');
  const indented = inner.split('\n').map(function(l){ return '  ' + l; }).join('\n');
  return '<!DOCTYPE html>\n<html lang="en">\n<head>\n  <meta charset="UTF-8" />\n  <meta name="viewport" content="width=device-width, initial-scale=1.0" />\n  <title>' + title + '</title>\n</head>\n<body>\n' + indented + '\n</body>\n</html>';
}

function convertToHTML(code, fileType, filename) {
  let result = code;
  result = removeImports(result);
  result = removeExports(result);
  if (fileType === 'tsx') result = removeTSTypes(result);
  result = extractJSXReturn(result);
  result = convertJSXAttrs(result);
  result = fixSelfClosingTags(result);
  result = removeJSXExpressionCurly(result);
  result = result.replace(/\n{3,}/g, '\n\n').trim();
  return wrapInHTML(result, filename);
}

// â”€â”€â”€ State â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

let currentFile = null;
let currentFileType = null;
let sourceCode = '';
let outputCode = '';
let converted = false;

// â”€â”€â”€ DOM refs â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

const dropZone       = document.getElementById('drop-zone');
const fileInput      = document.getElementById('file-input');
const workspace      = document.getElementById('workspace');
const dropIcon       = document.getElementById('drop-icon');
const dropTitle      = document.getElementById('drop-title');
const fileNameEl     = document.getElementById('file-name-display');
const fileSizeEl     = document.getElementById('file-size-display');
const typeBadgeEl    = document.getElementById('type-badge');
const inputBadgeEl   = document.getElementById('input-badge');
const inputCodeEl    = document.getElementById('input-code');
const outputCodeEl   = document.getElementById('output-code');
const convertBtn     = document.getElementById('convert-btn');
const downloadBtn    = document.getElementById('download-btn');
const resetBtn       = document.getElementById('reset-btn');
const errorBox       = document.getElementById('error-box');

// â”€â”€â”€ Helpers â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

function getFileType(name) {
  if (name.endsWith('.tsx')) return 'tsx';
  if (name.endsWith('.jsx')) return 'jsx';
  return null;
}

function setBadge(el, type) {
  el.textContent = type;
  el.className = 'badge badge-' + type;
}

function showError(msg) {
  errorBox.textContent = 'âš  ' + msg;
  errorBox.classList.add('visible');
}

function clearError() {
  errorBox.textContent = '';
  errorBox.classList.remove('visible');
}

function showWorkspace() {
  dropZone.style.display = 'none';
  workspace.style.display = 'flex';
}

function showDropZone() {
  workspace.style.display = 'none';
  dropZone.style.display = 'flex';
}

// â”€â”€â”€ File Handling â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

function handleFile(file) {
  clearError();
  converted = false;
  outputCode = '';

  const ft = getFileType(file.name);
  if (!ft) {
    showError('Unsupported file type. Please upload a .jsx or .tsx file.');
    return;
  }

  currentFile = file;
  currentFileType = ft;

  const reader = new FileReader();
  reader.onload = function(e) {
    sourceCode = e.target.result;

    // Update UI
    fileNameEl.textContent = file.name;
    fileSizeEl.textContent = (file.size / 1024).toFixed(1) + ' KB';
    setBadge(typeBadgeEl, ft);
    setBadge(inputBadgeEl, ft);
    inputCodeEl.textContent = sourceCode;
    outputCodeEl.textContent = '// Output will appear here after conversion...';
    outputCodeEl.classList.remove('has-output');
    convertBtn.textContent = 'âš¡ Convert to HTML';
    convertBtn.classList.remove('done');
    downloadBtn.classList.remove('visible');

    showWorkspace();
  };
  reader.readAsText(file);
}

// â”€â”€â”€ Events â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

// Click on drop zone â†’ open file picker
dropZone.addEventListener('click', function() {
  fileInput.click();
});

fileInput.addEventListener('change', function(e) {
  if (e.target.files[0]) handleFile(e.target.files[0]);
});

// Drag & Drop
dropZone.addEventListener('dragover', function(e) {
  e.preventDefault();
  dropZone.classList.add('drag-over');
  dropIcon.textContent = 'â¬‡';
  dropTitle.textContent = 'Release to upload';
});

dropZone.addEventListener('dragleave', function() {
  dropZone.classList.remove('drag-over');
  dropIcon.textContent = 'ğŸ“';
  dropTitle.textContent = 'Drop your file here';
});

dropZone.addEventListener('drop', function(e) {
  e.preventDefault();
  dropZone.classList.remove('drag-over');
  dropIcon.textContent = 'ğŸ“';
  dropTitle.textContent = 'Drop your file here';
  const f = e.dataTransfer.files[0];
  if (f) handleFile(f);
});

// Convert button
convertBtn.addEventListener('click', function() {
  if (!sourceCode || !currentFileType) return;
  try {
    outputCode = convertToHTML(sourceCode, currentFileType, currentFile.name);
    outputCodeEl.textContent = outputCode;
    outputCodeEl.classList.add('has-output');
    converted = true;
    convertBtn.textContent = 'âŸ³ Re-convert';
    convertBtn.classList.add('done');
    downloadBtn.classList.add('visible');
    clearError();
  } catch(err) {
    showError('Conversion failed: ' + err.message);
  }
});

// Download button
downloadBtn.addEventListener('click', function() {
  if (!outputCode) return;
  const outName = currentFile.name.replace(/\.(jsx|tsx)$/i, '.html');
  const blob = new Blob([outputCode], { type: 'text/html' });
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a');
  a.href = url;
  a.download = outName;
  a.click();
  URL.revokeObjectURL(url);
});

// Reset button
resetBtn.addEventListener('click', function() {
  currentFile = null;
  currentFileType = null;
  sourceCode = '';
  outputCode = '';
  converted = false;
  fileInput.value = '';
  inputCodeEl.textContent = '// Your source code will appear here...';
  outputCodeEl.textContent = '// Output will appear here after conversion...';
  outputCodeEl.classList.remove('has-output');
  clearError();
  showDropZone();
});
</script>
</body>
</html>
